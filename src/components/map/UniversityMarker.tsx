import { cn } from "@/lib/utils";
import MapChip from "./MapChip";

type UniversityMarkerProps = {
	name: string;
	campus?: string;
	isFocused?: boolean;
};

const UniversityMarker = ({
	name,
	campus,
	isFocused,
}: UniversityMarkerProps) => {
	const renderMarkerContents = () => {
		if (campus) {
			return `${name}\n${campus}`;
		}

		return name;
	};

	return (
		<div className="h-1 w-1">
			<span
				className={cn(
					"pointer-events-none inline-flex min-w-max -translate-x-1/2 -translate-y-[calc(100%-15px)] cursor-pointer flex-col items-center gap-0 text-[#9747FF]"
				)}
			>
				{isFocused && (
					<MapChip className="-mb-2 whitespace-pre-line bg-[#9747FF] text-center text-white">
						{renderMarkerContents()}
					</MapChip>
				)}
				<svg
					width="52"
					height="61"
					viewBox="0 0 52 61"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<g
						filter="url(#filter0_d_1502_127044)"
						className="pointer-events-auto"
					>
						<path
							d="M26.053 45.2001C24.953 45.2001 23.853 44.7001 23.153 43.8001C21.153 41.3001 12.953 29.8001 12.053 23.0001C11.553 19.1001 12.853 15.1001 15.553 12.0001C18.253 8.9001 22.053 7.1001 26.053 7.1001C26.153 7.1001 26.253 7.1001 26.353 7.1001C30.153 7.2001 33.853 8.9001 36.553 12.0001C39.253 15.1001 40.553 19.1001 40.053 23.0001C39.153 29.9001 30.953 41.4001 28.953 43.9001C28.853 44.0001 28.853 44.1001 28.753 44.1001C27.953 44.8001 27.053 45.2001 26.053 45.2001Z"
							fill="currentColor"
						/>
						<path
							d="M25.9531 8.1C26.0531 8.1 26.0531 8.1 26.1531 8.1C29.7531 8.2 33.1531 9.8 35.6531 12.6C38.1531 15.4 39.3531 19.1 38.8531 22.7C38.0531 28.9 30.5531 39.8 27.9531 43.1C27.9531 43.2 27.8531 43.2 27.8531 43.2C27.3531 43.7 26.7531 44 25.9531 44C25.1531 44 24.3531 43.6 23.9531 43C21.3531 39.8 13.9531 28.9 13.1531 22.8C12.6531 19.2 13.8531 15.5 16.3531 12.7C18.8531 9.7 22.3531 8.1 25.9531 8.1ZM25.9531 6C21.7531 6 17.6531 7.9 14.6531 11.2C11.7531 14.5 10.3531 18.8 10.9531 23C11.8531 30.1 20.1531 41.8 22.2531 44.4C23.1531 45.5 24.5531 46.2 25.9531 46.2C27.2531 46.2 28.4531 45.7 29.3531 44.7C29.4531 44.6 29.5531 44.5 29.6531 44.4C31.6531 41.9 40.0531 30.1 40.9531 23C41.4531 18.8 40.1531 14.5 37.2531 11.2C34.3531 8 30.3531 6.1 26.3531 6C26.2531 6 26.1531 6 25.9531 6Z"
							fill="white"
						/>
						<path
							d="M25.9498 24.5201H25.906C25.8936 24.5166 25.8791 24.5114 25.8617 24.5036L18.1588 20.5489C18.1587 20.5489 18.1587 20.5489 18.1586 20.5489C18.1076 20.5225 18.0698 20.4623 18.0698 20.4001C18.0698 20.3399 18.1054 20.2813 18.1601 20.254L18.1601 20.254L18.1623 20.2529L25.8369 16.3689C25.8939 16.3425 25.9493 16.3459 25.992 16.3669C25.9923 16.367 25.9926 16.3672 25.9929 16.3673L33.7101 20.2859L33.7129 20.2873C33.7701 20.3159 33.8032 20.3694 33.8032 20.4334C33.8032 20.4975 33.7701 20.551 33.7129 20.5796L33.7129 20.5795L33.7093 20.5813L26.0262 24.4996C26.0258 24.4998 26.0254 24.5 26.025 24.5002C25.9957 24.5146 25.9657 24.5201 25.9498 24.5201ZM19.6172 20.5742L19.4748 20.8516L25.7215 24.0582L25.9492 24.1752L26.1772 24.0587L32.3906 20.8854L33.2652 20.4387L32.3894 19.9942L26.1361 16.8209L25.9103 16.7063L25.6843 16.8205L19.471 19.9605L19.6172 20.5742Z"
							fill="#2F2F2F"
							stroke="#2F2F2F"
						/>
						<path
							d="M25.9034 28.3533C24.0834 28.3533 22.35 27.7066 21.0167 26.5266C20.87 26.3933 20.79 26.2066 20.79 26.0066C20.7967 25.7 20.93 23.0066 22.6034 22.2C22.9367 22.04 23.3367 22.18 23.4967 22.5133C23.6567 22.8466 23.5167 23.2466 23.1834 23.4C22.53 23.7133 22.23 24.9533 22.15 25.7333C23.1967 26.5666 24.5167 27.02 25.9034 27.02H25.9367C26.3034 27.02 26.6034 27.3133 26.6034 27.6866C26.6034 28.0533 26.31 28.3533 25.9367 28.3533H25.9034Z"
							fill="#2F2F2F"
						/>
						<path
							d="M33.2901 26.0269C32.9234 26.0269 32.6234 25.7269 32.6234 25.3603C32.6234 24.8336 32.6234 24.3469 32.6168 23.8803C32.6101 23.0003 32.6034 22.1736 32.6168 21.1803C32.6168 21.1136 32.6168 21.0669 32.6168 21.0336C32.6034 21.0336 32.5968 21.0269 32.5834 21.0203L32.4768 20.9669C32.1434 20.8069 32.0034 20.4136 32.1568 20.0803C32.3168 19.7469 32.7101 19.6069 33.0434 19.7603L33.1368 19.8003C33.6768 20.0469 33.9634 20.3403 33.9568 21.1936C33.9434 22.1736 33.9501 22.9936 33.9568 23.8603C33.9568 24.3336 33.9634 24.8136 33.9634 25.3469C33.9634 25.7136 33.6634 26.0136 33.2968 26.0136L33.2901 26.0269Z"
							fill="#2F2F2F"
						/>
						<path
							d="M33.29 25.3599C33.0234 25.3599 32.77 25.2532 32.5834 25.0666C32.49 24.9732 32.4167 24.8666 32.3634 24.7399C32.3167 24.6199 32.29 24.4932 32.29 24.3599C32.29 24.0932 32.3967 23.8399 32.5834 23.6532C32.8634 23.3732 33.31 23.2866 33.67 23.4332C33.7967 23.4866 33.9034 23.5599 33.9967 23.6532C34.19 23.8399 34.29 24.0932 34.29 24.3599C34.29 24.4932 34.2634 24.6199 34.2167 24.7399C34.1634 24.8666 34.09 24.9732 33.9967 25.0666C33.9034 25.1599 33.7967 25.2332 33.67 25.2866C33.55 25.3332 33.4234 25.3599 33.29 25.3599Z"
							fill="#2F2F2F"
						/>
						<path
							d="M25.9632 28.3535H25.9299C25.5632 28.3535 25.2632 28.0535 25.2632 27.6869C25.2632 27.3202 25.5632 27.0202 25.9299 27.0202C25.9432 27.0202 25.9499 27.0202 25.9565 27.0202C27.3432 27.0202 28.6632 26.5735 29.7098 25.7535C29.6298 25.0469 29.3632 23.7935 28.6765 23.4669C28.3432 23.3069 28.2032 22.9135 28.3632 22.5802C28.5232 22.2469 28.9165 22.1069 29.2498 22.2669C30.9298 23.0669 31.0565 25.7269 31.0632 26.0335C31.0632 26.2335 30.9832 26.4269 30.8365 26.5535C29.5099 27.7135 27.7765 28.3535 25.9499 28.3535H25.9632Z"
							fill="#2F2F2F"
						/>
					</g>
					<defs>
						<filter
							id="filter0_d_1502_127044"
							x="0.816406"
							y="0"
							width="50.2412"
							height="60.2002"
							filterUnits="userSpaceOnUse"
							colorInterpolationFilters="sRGB"
						>
							<feFlood floodOpacity="0" result="BackgroundImageFix" />
							<feColorMatrix
								in="SourceAlpha"
								type="matrix"
								values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
								result="hardAlpha"
							/>
							<feOffset dy="4" />
							<feGaussianBlur stdDeviation="5" />
							<feComposite in2="hardAlpha" operator="out" />
							<feColorMatrix
								type="matrix"
								values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"
							/>
							<feBlend
								mode="normal"
								in2="BackgroundImageFix"
								result="effect1_dropShadow_1502_127044"
							/>
							<feBlend
								mode="normal"
								in="SourceGraphic"
								in2="effect1_dropShadow_1502_127044"
								result="shape"
							/>
						</filter>
					</defs>
				</svg>
			</span>
		</div>
	);
};

export default UniversityMarker;
